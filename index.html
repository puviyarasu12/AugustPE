<!DOCTYPE html> 
<html lang="en"> 
<head> 
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnimeVerse </title>
<meta name="description" content="Anime Hub is your gateway to discovering trending anime, exploring studios, genres, and watching trailers with ease.">
<meta property="og:title" content="Anime Hub"> 
<meta property="og:description" content="Discover trending anime, explore studios, and watch trailers."> 
<meta property="og:type" content="website"> 
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet"> 
<style>
/* ---------- THEME VARIABLES ---------- */
:root {
  --bg:#0b0f14;
  --card:#111720;
  --muted:#9aa4b2;
  --text:#e6edf3;
  --accent:#8b5cf6;
  --accent2:#22d3ee;
  --ring:0 0 0 3px color-mix(in oklab,var(--accent) 35%,transparent);
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
/* ---------- GLOBAL RESET ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 600px at 10% -10%,rgba(34,211,238,.08),transparent),
    radial-gradient(900px 400px at 90% 10%,rgba(139,92,246,.07),transparent),
    var(--bg);
  color:var(--text);
  font-family:Poppins,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  line-height:1.35;
}
/* ---------- LAYOUT ---------- */
.container{max-width:1200px;margin:0 auto;padding:20px}
header{
  position:sticky;top:0;z-index:50;
  background:linear-gradient(180deg,rgba(11,15,20,.95),rgba(11,15,20,.7) 60%,rgba(11,15,20,0));
  backdrop-filter:blur(10px);
}
.nav{display:flex;align-items:center;gap:14px;justify-content:space-between}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:22px;letter-spacing:.5px}
.logo{width:34px;height:34px;border-radius:10px;background:conic-gradient(from 0turn,var(--accent),var(--accent2));box-shadow:0 6px 18px rgba(139,92,246,.4)}
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.search{display:flex;align-items:center;gap:8px;background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:10px 12px;min-width:260px}
.search input{all:unset;color:var(--text);width:100%}
.btn,select{
  background:linear-gradient(180deg,#161e29,#0f1621);
  border:1px solid rgba(255,255,255,.08);
  color:var(--text);
  padding:10px 14px;border-radius:12px;cursor:pointer;
  transition:transform .12s ease,box-shadow .12s ease,background .2s ease
}
.btn:hover,select:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
/* ---------- FILTER BAR ---------- */
.filter-bar{display:flex;gap:10px;overflow:auto;padding:8px 2px;margin-top:10px;scrollbar-width:none}
.filter-bar::-webkit-scrollbar{display:none}
.filter{
  padding:8px 12px;border-radius:999px;
  background:#0e1620;border:1px solid rgba(255,255,255,.08);
  color:var(--muted);white-space:nowrap;cursor:pointer;
  transition:background .2s,color .2s,transform .2s;
}
.filter:hover{transform:translateY(-2px)}
.filter.active{color:var(--text);background:linear-gradient(180deg,#1a2340,#121a2d);border-color:rgba(139,92,246,.6);box-shadow:var(--ring)}
/* ---------- GRID ---------- */
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
@media (max-width:1200px){.grid{grid-template-columns:repeat(8,1fr)}}
@media (max-width:820px){.grid{grid-template-columns:repeat(4,1fr)}}
@media (max-width:520px){.grid{grid-template-columns:repeat(2,1fr)}}
/* ---------- CARDS ---------- */
.card{
  grid-column:span 3;
  background:linear-gradient(180deg,#0f151d,#0c1118);
  border:1px solid rgba(255,255,255,.06);
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
  display:flex;flex-direction:column;
  transition:transform .2s,box-shadow .2s;
}
.card:hover{transform:translateY(-6px);box-shadow:0 12px 28px rgba(0,0,0,.5)}
.poster{
  aspect-ratio:3/4;
  width:100%;
  object-fit:cover;
  display:block;
}
.badges{position:absolute;display:flex;gap:6px;padding:10px;flex-wrap:wrap}
.badge{font-size:11px;padding:6px 9px;border-radius:999px;background:rgba(0,0,0,.65);backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.14);color:white}
.card-top{position:relative}
.card-body{padding:12px 14px 14px;display:flex;flex-direction:column;gap:8px}
.title{font-weight:700;font-size:16px}
.meta{font-size:12px;color:var(--muted)}
.actions{margin-top:auto;display:flex;gap:8px}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,.10)}
.btn-primary{background:linear-gradient(180deg,var(--accent),#5b34e6);border:0}
/* ---------- PANELS ---------- */
.sidebar{grid-column:span 12;display:grid;grid-template-columns:2fr 10fr;gap:18px}
@media (max-width:900px){.sidebar{grid-template-columns:1fr}}
.panel{background:linear-gradient(180deg,#0f151d,#0d131b);border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:16px}
.panel h3{margin:0 0 10px 0;font-size:18px}
.kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media (max-width:820px){.kpis{grid-template-columns:repeat(2,1fr)}}
.kpi{background:linear-gradient(180deg,#121a25,#0c1118);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:12px}
.kpi .n{font-size:22px;font-weight:800}
/* ---------- FOOTER ---------- */
footer{margin-top:30px;border-top:1px dashed rgba(255,255,255,.1)}
.foot{display:flex;align-items:center;justify-content:space-between;padding:18px 0;color:var(--muted);font-size:13px}
/* ---------- MODAL ---------- */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);animation:fadeIn .2s ease}
.modal.open{display:flex}
.dialog{width:min(920px,92vw);border-radius:18px;overflow:hidden;background:linear-gradient(180deg,#0f151d,#0c1118);border:1px solid rgba(255,255,255,.08);box-shadow:0 30px 80px rgba(0,0,0,.45);animation:scaleIn .25s ease}
.dialog-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.06)}
.dialog-title{font-weight:700}
.dialog-body{padding:0}
.close{background:transparent;border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:8px 10px;cursor:pointer;color:var(--text)}
.empty{padding:40px;text-align:center;color:var(--muted)}
.hidden{display:none}
/* ---------- ANIMATIONS ---------- */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes scaleIn{from{transform:scale(.9)}to{transform:1}}
</style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand"><span class="logo"></span>AnimeVerse</div>
    <div class="controls">
      <label class="search" title="Search anime">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/></svg>
        <input id="search" placeholder="Search anime, studio, year"/>
      </label>
      <select id="sort">
        <option value="trending">Sort: Trending</option>
        <option value="title">Sort: Title A–Z</option>
        <option value="year">Sort: Year ↓</option>
        <option value="rating">Sort: Rating ↓</option>
      </select>
      <button id="clear" class="btn btn-ghost">Clear</button>
    </div>
  </div>
  <div class="container"><div class="filter-bar" id="filters"></div></div>
</header>

<main class="container">
  <section class="sidebar">
    <div class="panel">
      <h3>Quick Stats</h3>
      <div class="kpis">
        <div class="kpi"><div class="n" id="kpi-count">0</div><div>Total Titles</div></div>
        <div class="kpi"><div class="n" id="kpi-avg">0.0</div><div>Avg Rating</div></div>
        <div class="kpi"><div class="n" id="kpi-year">—</div><div>Newest Year</div></div>
        <div class="kpi"><div class="n" id="kpi-genre">—</div><div>Top Genre</div></div>
      </div>
    </div>
    <div class="panel">
      <h3>Discover</h3>
      <div id="empty" class="empty hidden">No anime matched your filters.</div>
      <div class="grid" id="grid"></div>
    </div>
  </section>
</main>

<footer class="container">
  <div class="foot"><span>© <span id="yr"></span> Anime Hub</span><span>Built with ♥ for anime fans</span></div>
</footer>

<div class="modal" id="modal" role="dialog" aria-modal="true">
  <div class="dialog">
    <div class="dialog-header">
      <div class="dialog-title" id="m-title">Details</div>
      <button class="close" id="m-close" aria-label="Close modal">✕</button>
    </div>
    <div class="dialog-body" id="m-body"></div>
  </div>
</div>

<script>
/* --- DATA with reliable MAL poster images --- */
const DATA = [
  {
    id: 1,
    title: "Attack on Titan",
    studio: "MAPPA",
    genres: ["Action", "Drama", "Fantasy"],
    year: 2013,
    rating: 8.9,
    trending: 95,
    img: "https://cdn.myanimelist.net/images/anime/10/47347.jpg",
    trailer: "https://www.youtube.com/embed/MGRm4IzK1SQ",
    description: "In a world where humanity lives inside walled cities to escape giant Titans, Eren Yeager joins the fight to reclaim freedom."
  },
  {
    id: 2,
    title: "Demon Slayer",
    studio: "Ufotable",
    genres: ["Action", "Adventure", "Supernatural"],
    year: 2019,
    rating: 8.7,
    trending: 90,
    img: "https://cdn.myanimelist.net/images/anime/1286/99889.jpg",
    trailer: "https://www.youtube.com/embed/VQGCKyvz7C4",
    description: "Tanjiro Kamado becomes a demon slayer to save his sister and avenge his family against demonic forces."
  },
  {
    id: 3,
    title: "My Teen Romantic Comedy",
    studio: "Feel",
    genres: ["Comedy", "Romance", "Slice of Life"],
    year: 2013,
    rating: 7.9,
    trending: 80,
    img: "https://cdn.myanimelist.net/images/anime/8/51879.jpg",
    trailer: "https://www.youtube.com/embed/6kJipGWX9qU",
    description: "Hachiman Hikigaya navigates high school social dynamics with a cynical yet insightful perspective."
  },
  {
    id: 4,
    title: "Jujutsu Kaisen",
    studio: "MAPPA",
    genres: ["Action", "Supernatural", "Horror"],
    year: 2020,
    rating: 8.6,
    trending: 92,
    img: "https://cdn.myanimelist.net/images/anime/1171/109222.jpg",
    trailer: "https://www.youtube.com/embed/pkKu9hLTvr8",
    description: "Yuji Itadori becomes a vessel for a powerful curse and joins a secret organization to battle evil spirits."
  },
  {
    id: 5,
    title: "Fullmetal Alchemist: Brotherhood",
    studio: "Bones",
    genres: ["Action", "Adventure", "Fantasy"],
    year: 2009,
    rating: 9.1,
    trending: 88,
    img: "https://cdn.myanimelist.net/images/anime/1223/96541.jpg",
    trailer: "https://www.youtube.com/embed/--IcmZ58nE8",
    description: "Brothers Edward and Alphonse Elric search for the Philosopher's Stone to restore their bodies."
  },
  {
    id: 6,
    title: "Naruto",
    studio: "Pierrot",
    genres: ["Action", "Adventure", "Shounen"],
    year: 2002,
    rating: 8.3,
    trending: 85,
    img: "https://cdn.myanimelist.net/images/anime/13/17405.jpg",
    trailer: "https://www.youtube.com/embed/-G7B6xOd4d0",
    description: "Naruto Uzumaki, a young ninja, strives to become the strongest ninja and leader of his village."
  },
  {
    id: 7,
    title: "One Piece",
    studio: "Toei Animation",
    genres: ["Action", "Adventure", "Fantasy"],
    year: 1999,
    rating: 8.8,
    trending: 87,
    img: "https://cdn.myanimelist.net/images/anime/6/73245.jpg",
    trailer: "https://www.youtube.com/embed/8qB_W2--o2Q",
    description: "Monkey D. Luffy and his pirate crew search for the ultimate treasure, the One Piece."
  },
  {
    id: 8,
    title: "Death Note",
    studio: "Madhouse",
    genres: ["Mystery", "Psychological", "Thriller"],
    year: 2006,
    rating: 9.0,
    trending: 89,
    img: "https://cdn.myanimelist.net/images/anime/9/9453.jpg",
    trailer: "https://www.youtube.com/embed/Vt_3dH7rC3E",
    description: "Light Yagami finds a supernatural notebook that allows him to kill anyone by writing their name, sparking a battle of wits."
  }
];

/* --- DOM ELEMENTS --- */
const grid = document.getElementById('grid');
const filters = document.getElementById('filters');
const search = document.getElementById('search');
const sort = document.getElementById('sort');
const clear = document.getElementById('clear');
const modal = document.getElementById('modal');
const mTitle = document.getElementById('m-title');
const mBody = document.getElementById('m-body');
const mClose = document.getElementById('m-close');
const empty = document.getElementById('empty');
const kpiCount = document.getElementById('kpi-count');
const kpiAvg = document.getElementById('kpi-avg');
const kpiYear = document.getElementById('kpi-year');
const kpiGenre = document.getElementById('kpi-genre');
const yr = document.getElementById('yr');

/* --- STATE --- */
let activeFilters = [];
let currentData = [...DATA];

/* --- UTILITY FUNCTIONS --- */
const getUniqueGenres = () => {
  const genres = new Set();
  DATA.forEach(anime => anime.genres.forEach(genre => genres.add(genre)));
  return [...genres].sort();
};

const getTopGenre = (data) => {
  const genreCount = {};
  data.forEach(anime => {
    anime.genres.forEach(genre => {
      genreCount[genre] = (genreCount[genre] || 0) + 1;
    });
  });
  return Object.entries(genreCount).reduce((a, b) => a[1] > b[1] ? a : b, ['', 0])[0] || '—';
};

const updateKPIs = (data) => {
  kpiCount.textContent = data.length;
  kpiAvg.textContent = data.length ? (data.reduce((sum, anime) => sum + anime.rating, 0) / data.length).toFixed(1) : '0.0';
  kpiYear.textContent = data.length ? Math.max(...data.map(anime => anime.year)) : '—';
  kpiGenre.textContent = getTopGenre(data);
};

/* --- RENDER FUNCTIONS --- */
const renderFilters = () => {
  filters.innerHTML = '';
  getUniqueGenres().forEach(genre => {
    const filter = document.createElement('div');
    filter.className = 'filter';
    filter.textContent = genre;
    filter.dataset.genre = genre;
    if (activeFilters.includes(genre)) filter.classList.add('active');
    filter.addEventListener('click', () => {
      if (activeFilters.includes(genre)) {
        activeFilters = activeFilters.filter(f => f !== genre);
        filter.classList.remove('active');
      } else {
        activeFilters.push(genre);
        filter.classList.add('active');
      }
      applyFiltersAndSort();
    });
    filters.appendChild(filter);
  });
};

const renderCard = (anime) => {
  const card = document.createElement('div');
  card.className = 'card';
  card.innerHTML = `
    <div class="card-top">
      <img class="poster" src="${anime.img}" alt="${anime.title} poster" loading="lazy">
      <div class="badges">
        ${anime.genres.map(genre => `<span class="badge">${genre}</span>`).join('')}
      </div>
    </div>
    <div class="card-body">
      <div class="title">${anime.title}</div>
      <div class="meta">${anime.studio} • ${anime.year} • ${anime.rating} ★</div>
      <div class="actions">
        <button class="btn btn-ghost" onclick="openModal(${anime.id})">Details</button>
        <a href="${anime.trailer}" target="_blank" class="btn btn-primary">Trailer</a>
      </div>
    </div>
  `;
  return card;
};

const renderGrid = (data) => {
  grid.innerHTML = '';
  if (data.length === 0) {
    empty.classList.remove('hidden');
  } else {
    empty.classList.add('hidden');
    data.forEach(anime => grid.appendChild(renderCard(anime)));
  }
  updateKPIs(data);
};

const openModal = (id) => {
  const anime = DATA.find(a => a.id === id);
  if (!anime) return;
  mTitle.textContent = anime.title;
  mBody.innerHTML = `
    <div style="display:flex;gap:20px;padding:16px;">
      <img src="${anime.img}" alt="${anime.title} poster" style="width:200px;border-radius:12px;">
      <div>
        <p><strong>Studio:</strong> ${anime.studio}</p>
        <p><strong>Year:</strong> ${anime.year}</p>
        <p><strong>Rating:</strong> ${anime.rating} ★</p>
        <p><strong>Genres:</strong> ${anime.genres.join(', ')}</p>
        <p><strong>Description:</strong> ${anime.description}</p>
        <a href="${anime.trailer}" target="_blank" class="btn btn-primary">Watch Trailer</a>
      </div>
    </div>
  `;
  modal.classList.add('open');
};

mClose.addEventListener('click', () => modal.classList.remove('open'));
modal.addEventListener('click', (e) => {
  if (e.target === modal) modal.classList.remove('open');
});

/* --- FILTER & SORT LOGIC --- */
const applyFiltersAndSort = () => {
  let filteredData = [...DATA];

  // Apply search
  const query = search.value.toLowerCase().trim();
  if (query) {
    filteredData = filteredData.filter(anime =>
      anime.title.toLowerCase().includes(query) ||
      anime.studio.toLowerCase().includes(query) ||
      anime.year.toString().includes(query)
    );
  }

  // Apply genre filters
  if (activeFilters.length > 0) {
    filteredData = filteredData.filter(anime =>
      activeFilters.every(filter => anime.genres.includes(filter))
    );
  }

  // Apply sorting
  const sortValue = sort.value;
  filteredData.sort((a, b) => {
    if (sortValue === 'title') return a.title.localeCompare(b.title);
    if (sortValue === 'year') return b.year - a.year;
    if (sortValue === 'rating') return b.rating - a.rating;
    if (sortValue === 'trending') return b.trending - a.trending;
    return 0;
  });

  currentData = filteredData;
  renderGrid(filteredData);
};

/* --- EVENT LISTENERS --- */
search.addEventListener('input', applyFiltersAndSort);
sort.addEventListener('change', applyFiltersAndSort);
clear.addEventListener('click', () => {
  activeFilters = [];
  search.value = '';
  sort.value = 'trending';
  renderFilters();
  applyFiltersAndSort();
});

/* --- INITIALIZE --- */
yr.textContent = new Date().getFullYear();
renderFilters();
renderGrid(currentData);
</script>
</body>
</html>
